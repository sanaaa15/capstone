'use client';
import React, { useEffect, useRef } from 'react';
import NavBarHome from './components/NavBarHome';
import Image from 'next/image';

const HomePage = () => {
  const elementsRef = useRef([]);

  useEffect(() => {
    const callback = (entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-fadeInUp');
        } else {
          entry.target.classList.remove('animate-fadeInUp');
        }
      });
    };

    const observer = new IntersectionObserver(callback, {
      threshold: 0.1
    });

    elementsRef.current.forEach(el => {
      if (el) observer.observe(el);
    });

    return () => {
      elementsRef.current.forEach(el => {
        if (el) observer.unobserve(el);
      });
    };
  }, []);

  return (
    <div>
      <div className="min-h-screen bg-beige">
        <div style={{ marginRight: '40%', marginLeft: '2%' }}>
          <NavBarHome fontColor="text-blue"/>
        </div>
        <div className="absolute right-0 top-0 bg-navy p-8 h-[70%] w-[32%] bg-cover bg-center" style={{ backgroundImage: "url('/home-page-pattern.jpg')" }}>
        </div>
        <div className="p-8 max-w-4xl" style={{ marginLeft: '2%' }}>
          <p ref={(el) => elementsRef.current[0] = el} className="text-white text-6xl font-bold leading-none font-custom-2">DISCOVER THE</p>
          <p ref={(el) => elementsRef.current[1] = el} className="text-white text-6xl font-bold leading-none font-custom-2">PERFECT KURTA,</p>
          <p ref={(el) => elementsRef.current[2] = el} className="text-blue text-6xl font-bold leading-none font-custom-2">TAILORED JUST FOR</p>
          <p ref={(el) => elementsRef.current[3] = el} className="text-blue text-6xl font-bold leading-none font-custom-2">YOU!</p>
          <p className="mx-2 my-2 text-lg"><span className="font-bold text-navy">Welcome to Tailor Swift,</span> where tradition meets technology. We craft personalized kurtas that fit your unique style and measurements. Using advanced computer vision, we ensure each garment is perfectly tailored for unmatched comfort and elegance. For any occasion, Tailor Swift blends sophistication and individuality in every stitch.</p>
        </div>
        <div style={{ marginLeft: '34%', marginTop: '5%', width: '70%' }}>
          <p ref={(el) => elementsRef.current[4] = el} className="text-white text-6xl font-bold leading-none font-custom-2">YOUR PERFECT KURTA</p>
          <p ref={(el) => elementsRef.current[5] = el} className="text-blue text-6xl font-bold leading-none font-custom-2">IN FOUR SIMPLE STEPS</p>
        </div>
        <div className="absolute left-0 top-[75%] bg-navy p-8 h-[90%] w-[32%] bg-cover bg-center" style={{ backgroundImage: "url('/home-page-pattern.jpg')" }}>
        </div>
      </div>
      <div className="min-h-screen bg-navy">
        <div className="absolute right-0 top-[170%] bg-navy p-8 h-[110%] w-[32%] bg-cover bg-center" style={{ backgroundImage: "url('/home-page-pattern.jpg')" }}>
        </div>
      </div>
      <div className="min-h-screen bg-beige">
        <div className="p-8 max-w-5xl" style={{ marginLeft: '2%' }}>
          <p ref={(el) => elementsRef.current[6] = el} className="text-white text-6xl font-bold leading-none font-custom-2">CHECK OUT SOME</p>
          <p ref={(el) => elementsRef.current[7] = el} className="text-blue text-6xl font-bold leading-none font-custom-2">DESIGNS GENERATED BY OUR MODEL</p>
        </div>
        <div className="flex bg-beige mx-4 p-8">
          <div className="flex flex-col items-center mx-4">
            <Image src="/kurta-1.png" alt="Image 1" height={512} width={256} className="h-[78%] w-64 object-cover" />
            <p className="mt-8 text-center text-navy text-medium">“plain white color”</p>
          </div>
          <div className="flex flex-col items-center mx-4">
            <Image src="/kurta-2.png" alt="Image 2" height={512} width={256} className="h-[78%] w-64 object-cover" />
            <p className="mt-8 text-center text-navy text-medium">“white and orange, anarkali”</p>
          </div>
          <div className="flex flex-col items-center mx-4">
            <Image src="/kurta-3.jpg" alt="Image 3" height={512} width={256} className="h-[78%] w-64 object-cover" />
            <p className="mt-8 text-center text-navy text-medium ">“red in color, floral pattern, boat neck”</p>
          </div>
        </div>
      </div>
      <style jsx>{`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fadeInUp {
          animation: fadeInUp 1s ease-in-out;
        }
      `}</style>
    </div>
  );
};

export default HomePage;
